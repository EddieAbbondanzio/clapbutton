!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var s=n(1);"string"==typeof s&&(s=[[t.i,s,""]]);var i={insert:"head",singleton:!1};n(2)(s,i);s.locals&&(t.exports=s.locals)},function(t,e,n){"use strict";n.r(e),e.default=n.p+"styles.css"},function(t,e,n){"use strict";var s,i={},o=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function r(t,e){for(var n=[],s={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],r={css:o[1],media:o[2],sourceMap:o[3]};s[a]?s[a].parts.push(r):n.push(s[a]={id:a,parts:[r]})}return n}function l(t,e){for(var n=0;n<t.length;n++){var s=t[n],o=i[s.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](s.parts[a]);for(;a<s.parts.length;a++)o.parts.push(v(s.parts[a],e))}else{for(var r=[];a<s.parts.length;a++)r.push(v(s.parts[a],e));i[s.id]={id:s.id,refs:1,parts:r}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var s=n.nc;s&&(t.attributes.nonce=s)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,s){var i=n?"":s.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e,n){var s=n.css,i=n.media,o=n.sourceMap;if(i&&t.setAttribute("media",i),o&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var f=null,m=0;function v(t,e){var n,s,i;if(e.singleton){var o=m++;n=f||(f=c(e)),s=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=c(e),s=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=r(t,e);return l(n,e),function(t){for(var s=[],o=0;o<n.length;o++){var a=n[o],c=i[a.id];c&&(c.refs--,s.push(c))}t&&l(r(t,e),e);for(var u=0;u<s.length;u++){var d=s[u];if(0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete i[d.id]}}}}},function(t,e,n){"use strict";n.r(e);class s{constructor(t,e=0){this.url=t,this.claps=e,this.pendingClaps=0,this.wasClapped=!1}}async function i(t){await new Promise(e=>setTimeout(e,t))}class o{constructor(t){this._button=t,this._clickId=0;let e=!1,n=!1,s=null;t.addEventListener("mouseover",()=>this._notifyListeners("onHover")),t.addEventListener("mouseleave",()=>this._notifyListeners("onLeave")),t.addEventListener("mousedown",t=>{(t.target==this._button||t.target.parentNode==this._button&&t.target!=this._streakBubble)&&(e=!0,n=!1,clearTimeout(s),s=setTimeout(()=>{n=!0,this._notifyListeners("onHold")},250))}),window.addEventListener("mouseup",t=>{if(e){if(e=!1,n)return t.preventDefault(),void this._notifyListeners("onRelease");this._notifyListeners("onClick"),clearTimeout(s)}})}showPulse(){this._triggerAnimation(this._button,"shadow-pulse")}hidePulse(){this._stopAnimation(this._button,"shadow-pulse")}async showClickStreakCount(t){this.hidePulse(),this.hideCount();let e=null;null==this._streakBubble?(e=document.createElement("div"),e.className="streak-bubble",this._button.appendChild(e),this._streakBubble=e):e=this._streakBubble,e.innerHTML=`<span>+${t.pendingClaps}</span>`;let n=++this._clickId;1==t.pendingClaps?(this._triggerAnimation(e,"first-pop-up-and-fade"),await i(1e3),n==this._clickId&&(this._stopAnimation(e,"first-pop-up-and-fade"),this.showCount(t.claps))):(this._stopAnimation(e,"first-pop-up-and-fade"),this._triggerAnimation(e,"pop-up-and-fade"),await i(1e3),n==this._clickId&&(this._stopAnimation(e,"pop-up-and-fade"),this.showCount(t.claps))),n==this._clickId&&(this._button.removeChild(e),this._streakBubble=null)}async growAndShrink(){await this._temporaryAnimation(this._button,"grow-and-shrink",200)}async showCount(t){let e=Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this._button.setAttribute("data-clap-count",e),this._button.title=`${t.toLocaleString()} claps`}async hideCount(){this._button.removeAttribute("data-clap-count")}markAsClapped(){this._button.classList.add("clap-button-clicked")}_notifyListeners(t){null!=this[t]&&this[t]()}_triggerAnimation(t,e){t.classList.remove(e),t.offsetWidth,t.classList.add(e)}_stopAnimation(t,e){t.classList.remove(e)}async _temporaryAnimation(t,e,n){t.classList.remove(e),t.offsetWidth,t.classList.add(e),await i(n),t.classList.remove(e)}}class a{constructor(t){this.interval=t,this.isActive=!1}start(){this.isActive=!0,this._startCountDown()}stop(){this.isActive=!1}_startCountDown(){setTimeout(()=>{this.isActive&&(this.onAlarm(),this._startCountDown())},this.interval)}}class r{constructor(t,e,n){this._model=t,this._view=e,this._timer=new a(250),this._service=n,e.onHover=()=>{e.showPulse()},e.onLeave=()=>{e.hidePulse(),this._service.clap(this._model.url,this._model.pendingClaps),this._model.pendingClaps=0},e.onClick=async()=>{this._model.pendingClaps<50&&(await e.growAndShrink(),this.clap())},e.onHold=async()=>{this._timer.start(),this._timer.onAlarm=async()=>{this._model.pendingClaps<50&&this.clap()}},e.onRelease=async()=>this._timer.stop()}async clap(){this._model.claps++,this._model.pendingClaps++,this._view.markAsClapped(),await this._view.showClickStreakCount(this._model),this._model.wasClapped=!0}}class l{constructor(t){this.apiUrl=t}getClaps(t){return 1338}clap(t,e){console.log("sending claps!")}}n(0);document.addEventListener("DOMContentLoaded",()=>{var t=document.getElementsByClassName("clap-button");for(let e of t){const t=e.getAttribute("data-color")||"gray";if(!["red","green","blue","gray"].includes(t))throw new Error(`Invalid color: ${t}`);e.classList.add(`clap-button-${t}`),e.innerHTML='<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n        width="256.000000pt" height="255.000000pt" viewBox="0 0 256.000000 255.000000"\n        preserveAspectRatio="xMidYMid meet">\n       <g transform="translate(0.000000,255.000000) scale(0.100000,-0.100000)"\n       >\n       <path style="fill: var(--clap-color)" d="M1812 2353 c-6 -10 -13 -75 -17 -143 -6 -108 -5 -127 8 -139 21 -17\n       56 -5 62 22 3 12 6 78 8 147 l2 125 -27 3 c-18 2 -30 -3 -36 -15z"/>\n       <path style="fill: var(--clap-color)" d="M2053 2178 c-57 -57 -106 -113 -109 -125 -7 -26 11 -53 34 -53 18 0\n       229 206 238 232 7 24 -12 48 -39 48 -12 0 -61 -41 -124 -102z"/>\n       <path style="fill: var(--clap-color);" d="M1335 2039 c-19 -5 -92 -71 -199 -178 l-170 -170 -17 29 c-40 64\n       -112 85 -182 51 -53 -26 -336 -309 -391 -392 -49 -74 -85 -179 -92 -272 -9\n       -97 15 -205 67 -305 25 -48 39 -89 39 -112 0 -57 36 -185 72 -253 67 -128 219\n       -243 367 -277 144 -33 315 0 441 85 38 26 195 175 383 362 l317 319 0 47 c0\n       58 -19 97 -62 131 l-33 25 56 58 c67 68 79 90 79 138 0 60 -22 98 -74 125 -40\n       22 -46 29 -46 57 0 18 -5 43 -11 56 -9 19 -7 31 5 55 37 72 12 155 -58 192\n       -40 22 -46 29 -46 58 0 62 -38 111 -102 132 -44 13 -89 3 -133 -32 -14 -11\n       -27 -19 -29 -17 -1 2 -10 17 -20 32 -17 28 -86 67 -116 66 -8 0 -28 -5 -45\n       -10z m92 -91 c13 -12 23 -31 23 -42 0 -14 -65 -86 -191 -211 -222 -222 -234\n       -236 -219 -265 24 -45 48 -27 315 240 282 282 291 288 334 234 12 -15 21 -33\n       21 -42 0 -8 -37 -52 -82 -99 -75 -76 -86 -84 -112 -79 -65 13 -93 -6 -270\n       -183 l-170 -170 -17 29 c-23 37 -57 59 -102 67 -63 10 -111 -24 -279 -195\n       -164 -167 -207 -222 -240 -305 -12 -28 -24 -56 -28 -60 -16 -18 -43 81 -48\n       174 -4 80 -1 109 16 165 32 104 69 153 251 337 139 140 171 167 195 167 39 0\n       66 -26 66 -64 0 -26 -17 -48 -105 -136 -85 -85 -105 -110 -103 -130 2 -18 10\n       -26 28 -28 21 -2 76 48 335 308 330 330 334 333 382 288z m383 -223 c20 -21\n       22 -30 14 -53 -9 -24 -14 -27 -59 -27 -47 -1 -106 -23 -120 -45 -9 -15 -22\n       -12 -29 7 -5 12 11 35 56 80 71 71 99 79 138 38z m-273 -137 c13 -12 23 -31\n       23 -42 0 -14 -65 -86 -191 -211 -222 -222 -234 -236 -219 -265 24 -45 48 -27\n       315 240 282 282 291 288 334 234 12 -15 21 -34 21 -42 0 -9 -110 -127 -245\n       -262 -168 -169 -245 -253 -245 -268 0 -26 28 -42 55 -32 11 5 119 108 240 229\n       167 168 226 221 244 221 31 0 71 -37 71 -64 0 -13 -88 -108 -250 -271 -137\n       -138 -250 -257 -250 -266 0 -21 20 -39 44 -39 12 0 80 60 177 156 129 129 160\n       155 178 149 25 -8 61 -52 61 -74 0 -27 -656 -672 -716 -704 -102 -54 -227 -69\n       -342 -42 -143 34 -264 133 -329 270 -32 68 -37 88 -41 175 -4 80 -1 110 16\n       166 32 104 69 153 251 337 139 140 171 167 195 167 39 0 66 -26 66 -64 0 -26\n       -17 -48 -105 -136 -85 -85 -105 -110 -103 -130 2 -18 10 -26 28 -28 21 -2 76\n       48 335 308 330 330 334 333 382 288z"/>\n       <path style="fill: var(--clap-color);" d="M2152 1945 c-68 -7 -128 -17 -134 -23 -5 -5 -8 -20 -6 -33 l3 -24\n       135 3 c138 3 180 14 180 47 0 13 -38 47 -50 44 -3 -1 -61 -7 -128 -14z"/>\n       </g>\n       </svg>';const n=new s(1337),i=new o(e),a=new l("clapbutton.com/api");new r(n,i,a),i.showCount(n.claps)}})}]);